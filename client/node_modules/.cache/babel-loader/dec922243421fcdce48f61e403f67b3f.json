{"ast":null,"code":"import _objectSpread from\"/Users/Troy/Projects/interactive-comment-section/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/Troy/Projects/interactive-comment-section/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";export var addComment=function addComment(userInput,currentUser,isReply,id,replyingTo,setComments){if(userInput){var newComment={id:new Date(),content:userInput,createdAt:\"Just Now\",score:0,user:{image:{png:currentUser.image.png,webp:currentUser.image.webp},username:currentUser.username}};if(!isReply){//Add New Comment\nsetComments(function(prev){return[].concat(_toConsumableArray(prev),[_objectSpread(_objectSpread({},newComment),{},{replies:[]})]);});}else{//Add New Reply to Comment\nsetComments(function(prev){return prev.map(function(comment){var replies=comment.replies;if(comment.id===id){return _objectSpread(_objectSpread({},comment),{},{replies:[].concat(_toConsumableArray(replies),[_objectSpread(_objectSpread({},newComment),{},{replyingTo:replyingTo})])});}else{// Add New Reply to Replies of Parent Comment\nvar correctReply=replies.map(function(reply){if(reply.id===id){return true;}else{return false;}});if(correctReply.includes(true)){return _objectSpread(_objectSpread({},comment),{},{replies:[].concat(_toConsumableArray(replies),[_objectSpread(_objectSpread({},newComment),{},{replyingTo:replyingTo})])});}return comment;}});});}}};","map":{"version":3,"names":["addComment","userInput","currentUser","isReply","id","replyingTo","setComments","newComment","Date","content","createdAt","score","user","image","png","webp","username","prev","replies","map","comment","correctReply","reply","includes"],"sources":["/Users/Troy/Projects/interactive-comment-section/client/src/components/functions/addComment.js"],"sourcesContent":["export const addComment = (\n  userInput,\n  currentUser,\n  isReply,\n  id,\n  replyingTo,\n  setComments\n) => {\n  if (userInput) {\n    const newComment = {\n      id: new Date(),\n      content: userInput,\n      createdAt: \"Just Now\",\n      score: 0,\n      user: {\n        image: {\n          png: currentUser.image.png,\n          webp: currentUser.image.webp,\n        },\n        username: currentUser.username,\n      },\n    };\n\n    if (!isReply) {\n      //Add New Comment\n      setComments((prev) => {\n        return [\n          ...prev,\n          {\n            ...newComment,\n            replies: [],\n          },\n        ];\n      });\n    } else {\n      //Add New Reply to Comment\n      setComments((prev) =>\n        prev.map((comment) => {\n          const replies = comment.replies;\n\n          if (comment.id === id) {\n            return {\n              ...comment,\n              replies: [\n                ...replies,\n                {\n                  ...newComment,\n                  replyingTo,\n                },\n              ],\n            };\n          } else {\n            // Add New Reply to Replies of Parent Comment\n            const correctReply = replies.map((reply) => {\n              if (reply.id === id) {\n                return true;\n              } else {\n                return false;\n              }\n            });\n\n            if (correctReply.includes(true)) {\n              return {\n                ...comment,\n                replies: [\n                  ...replies,\n                  {\n                    ...newComment,\n                    replyingTo,\n                  },\n                ],\n              };\n            }\n            return comment;\n          }\n        })\n      );\n    }\n  }\n};\n"],"mappings":"iSAAA,MAAO,IAAMA,WAAU,CAAG,QAAbA,WAAa,CACxBC,SADwB,CAExBC,WAFwB,CAGxBC,OAHwB,CAIxBC,EAJwB,CAKxBC,UALwB,CAMxBC,WANwB,CAOrB,CACH,GAAIL,SAAJ,CAAe,CACb,GAAMM,WAAU,CAAG,CACjBH,EAAE,CAAE,GAAII,KAAJ,EADa,CAEjBC,OAAO,CAAER,SAFQ,CAGjBS,SAAS,CAAE,UAHM,CAIjBC,KAAK,CAAE,CAJU,CAKjBC,IAAI,CAAE,CACJC,KAAK,CAAE,CACLC,GAAG,CAAEZ,WAAW,CAACW,KAAZ,CAAkBC,GADlB,CAELC,IAAI,CAAEb,WAAW,CAACW,KAAZ,CAAkBE,IAFnB,CADH,CAKJC,QAAQ,CAAEd,WAAW,CAACc,QALlB,CALW,CAAnB,CAcA,GAAI,CAACb,OAAL,CAAc,CACZ;AACAG,WAAW,CAAC,SAACW,IAAD,CAAU,CACpB,mCACKA,IADL,kCAGOV,UAHP,MAIIW,OAAO,CAAE,EAJb,KAOD,CARU,CAAX,CASD,CAXD,IAWO,CACL;AACAZ,WAAW,CAAC,SAACW,IAAD,QACVA,KAAI,CAACE,GAAL,CAAS,SAACC,OAAD,CAAa,CACpB,GAAMF,QAAO,CAAGE,OAAO,CAACF,OAAxB,CAEA,GAAIE,OAAO,CAAChB,EAAR,GAAeA,EAAnB,CAAuB,CACrB,sCACKgB,OADL,MAEEF,OAAO,8BACFA,OADE,kCAGAX,UAHA,MAIHF,UAAU,CAAVA,UAJG,IAFT,GAUD,CAXD,IAWO,CACL;AACA,GAAMgB,aAAY,CAAGH,OAAO,CAACC,GAAR,CAAY,SAACG,KAAD,CAAW,CAC1C,GAAIA,KAAK,CAAClB,EAAN,GAAaA,EAAjB,CAAqB,CACnB,MAAO,KAAP,CACD,CAFD,IAEO,CACL,MAAO,MAAP,CACD,CACF,CANoB,CAArB,CAQA,GAAIiB,YAAY,CAACE,QAAb,CAAsB,IAAtB,CAAJ,CAAiC,CAC/B,sCACKH,OADL,MAEEF,OAAO,8BACFA,OADE,kCAGAX,UAHA,MAIHF,UAAU,CAAVA,UAJG,IAFT,GAUD,CACD,MAAOe,QAAP,CACD,CACF,CAtCD,CADU,EAAD,CAAX,CAyCD,CACF,CACF,CA/EM"},"metadata":{},"sourceType":"module"}